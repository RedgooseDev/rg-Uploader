!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jQuery")):"function"==typeof define&&define.amd?define(["jQuery"],t):"object"==typeof exports?exports.RG_Uploader=t(require("jQuery")):e.RG_Uploader=t(e.jQuery)}(window,function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./",n(n.s=3)}([function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.template=t.keyboardEvent=t.language=t.defaultOptions=t.fileUpload=t.util=void 0;var r=d(n(2)),i=s(n(6)),a=s(n(7)),o=s(n(8)),l=s(n(9)),u=d(n(10));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.util=r,t.fileUpload=i.default,t.defaultOptions=a.default,t.language=o.default,t.keyboardEvent=l.default,t.template=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bytesToSize=function(e){if(0===e)return"0";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+""+["Bytes","KB","MB","GB","TB"][t]},t.findDOM=function(e,t,n){return e&&e.length?e.find("[data-"+t+"="+n+"]"):null},t.getUniqueNumber=function(e){e=e||10;for(var t=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},n=(+new Date).toString().split("").reverse(),r="",i=0;i<e;++i){var a=t(0,n.length-1);r+=n[a]}return parseInt(r)},t.detectTouchEvent=function(){return"ontouchstart"in document.documentElement},t.inputFileReset=function(e){var t=!!navigator.userAgent.match(/Trident.*rv[ :]?[1-9]{2}\./),n=-1!==navigator.appVersion.indexOf("MSIE ");if(-1!==navigator.appVersion.indexOf("MSIE 10"))e.type="radio",e.type="file";else if(n||t){var r=e.parentNode,i=e.nextSibling,a=document.createElement("form");a.appendChild(e),a.reset(),r.insertBefore(e,i)}else e.value=""},t.getFunctionReturn=function(e,t){return e&&"function"==typeof e&&e(t)||t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(4));n(13),t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n(0)),o=d(n(5)),l=d(n(11)),u=d(n(12)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&(this.options=r({},s.defaultOptions,n),n&&n.queue&&(this.options.queue=r({},s.defaultOptions.queue,n.queue)),this.$container=(0,a.default)(t),this.plugin=new u.default(this),this.queue=new l.default(this),this.uploader=new o.default(this),this.plugin.init(),this.queue.init(),this.options.init&&"function"==typeof this.options.init&&this.options.init(this))}return i(e,[{key:"eventReceiver",value:function(e,t){this.plugin.eventListener(e,t)}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));var o=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=t,this.name="Uploader",this.queue=t.queue,this.$uploadElement=null,this.readyItems=[],this.uploading=!1;var r=a.util.findDOM(t.$container,"element","startUpload");this.$uploadElement=a.util.findDOM(t.$container,"element","addFiles"),this.addUploadElements((0,i.default)(t.options.externalFileForm)),this.$uploadElement&&this.$uploadElement.length&&(this.$uploadElement.each(function(e,r){(0,i.default)(r).on("change",function(){n.pushReady(),t.options.autoUpload&&n.start()})}),r&&r.length&&r.on("click",function(){return n.start(),!1}))}return r(e,[{key:"pushReadyUploadFiles",value:function(e){var t=this,n=this.parent.options,r=n.queue.limit,i={type:!1,extension:!1,filesize:!1},o=[];function l(e,t){!1===i[e]&&(alert(t),i[e]=!0)}if(this.parent.queue.items.ids.length+e.length>r)return alert(a.language("error_upload_limit",[n.queue.limit])),!1;var u=this.parent.queue.getSize()+this.constructor.getTotalReadySize(this.readyItems)+this.constructor.getTotalReadySize(e);if(n.limitSizeTotal<u)return alert(a.language("error_limit_size")),!1;for(var s=0;s<e.length;s++)e[s].type?n.allowFileTypes.indexOf(e[s].type.split("/")[1])<0?l("extension",a.language("error_check_file")):e[s].size>n.limitSize?l("filesize",a.language("error_limit_size2")):(e[s].id=a.util.getUniqueNumber(),this.readyItems.push(e[s]),o.push(e[s])):l("type",a.language("error_file_type"));o.forEach(function(e){t.parent.queue.addProgress(e)})}},{key:"pushReady",value:function(){var e=this.constructor.mergeFileList(this.$uploadElement);if(!e.length)return alert(a.language("error_not_upload_file")),!1;this.pushReadyUploadFiles(e),this.resetEvent(this.$uploadElement)}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e&&e.length&&this.pushReadyUploadFiles(e),this.uploading?alert(a.language("error_now_uploading")):this.play()}},{key:"play",value:function(){var e=this;if(this.readyItems.length){this.uploading=!0;var t=this.parent.queue.selectQueueElement(this.readyItems[0].id);t.removeClass("ready"),a.util.findDOM(t,"text","state").text("loading..."),a.util.findDOM(t,"element","removeQueue").remove();var n=this.parent.options.uploadScript||null,r=this.parent.options.uploadParamsFilter&&"function"==typeof this.parent.options.uploadParamsFilter&&this.parent.options.uploadParamsFilter(this.readyItems[0]);a.fileUpload(n,this.readyItems[0],r,this.parent.options.uploadHeaders,this.parent.options.uploadDataFilter).done(function(t,n){e.uploadComplete("success",t,n)}).progress(function(t,n){e.uploadProgress(t,n)}).fail(function(t,n){e.uploadComplete("error",t,n)})}}},{key:"uploadProgress",value:function(e,t){this.parent.queue.updateProgress({id:t.id,data:e}),this.parent.options.uploadProgress&&this.parent.options.uploadProgress(e,t)}},{key:"uploadComplete",value:function(e,t,n){switch(e){case"success":delete(n=i.default.extend({},n,t)).slice,this.parent.queue.uploadResult("success",n),this.parent.options.uploadComplete&&this.parent.options.uploadComplete(n);break;case"error":n.message=t,this.parent.queue.uploadResult("error",n),console.error("ERROR:",n.message),this.parent.options.uploadFail&&this.parent.options.uploadFail(n)}this.readyItems.splice(0,1),this.readyItems.length?this.play():(this.uploading=!1,this.parent.options.uploadCompleteAll&&"function"==typeof this.parent.options.uploadCompleteAll&&this.parent.options.uploadCompleteAll(this.parent),this.parent.eventReceiver("queue.uploadCompleteAll"))}},{key:"addUploadElements",value:function(e){this.$uploadElement&&this.$uploadElement.length?this.$uploadElement=this.$uploadElement.add(e):this.$uploadElement=e}},{key:"resetEvent",value:function(e){(e||this.$uploadElement).each(function(e,t){a.util.inputFileReset(t)})}}],[{key:"getTotalReadySize",value:function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].size;return t}},{key:"mergeFileList",value:function(e){var t=[];return e.each(function(e,n){for(var r=0;r<n.files.length;r++)t.push(n.files[r])}),t}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t,n,o,l){var u=i.default.Deferred();if(e){var s=new XMLHttpRequest;if("function"==typeof FormData||"object"===("undefined"==typeof FormData?"undefined":r(FormData))){var d=new FormData;if(d.append("file",t),n&&"object"===(void 0===n?"undefined":r(n)))for(var c in n)d.append(c,n[c]);s.open("post",e,!0),o&&"object"===(void 0===o?"undefined":r(o))&&Object.keys(o).forEach(function(e){s.setRequestHeader(e,o[e])}),s.upload.addEventListener("progress",function(e){u.notify(function(e){if(e.lengthComputable)return{loaded:e.loaded,total:e.total}}(e),t)},!1),s.addEventListener("load",function(e){var n=function(e,t){if(4===e.readyState)switch(e.status){case 200:var n=e.responseText;try{return JSON.parse(n)||n}catch(e){return{state:"error",response:{message:n}}}break;case 404:return{state:"error",response:{message:"404 - File not found"}};case 403:return{state:"error",response:{message:"403 - Forbidden file type"}};default:return{state:"error",response:{message:"Unknown Error"}}}return{state:"error",response:{message:"Unknown Error"}}}(e.target);switch((n=a.getFunctionReturn(l,n)).state){case"success":u.resolve(n.response,t);break;case"error":u.reject(n.message,t)}}),s.send(d)}else u.reject("not support browser",t)}else if(FileReader){var f=new FileReader;f.onload=function(e){u.resolve({src:e.target.result,isLocalFile:!0},t)},f.readAsDataURL(t)}else u.reject("not support browser",t);return u.promise()};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={autoUpload:!1,externalFileForm:null,allowFileTypes:["jpeg","png","gif"],limitSize:1e7,limitSizeTotal:3e7,uploadScript:null,removeScript:null,uploadHeaders:null,removeHeaders:null,eventPrefixName:"RG-",srcPrefixName:"",queue:{height:150,limit:10,style:"list",buttons:[{name:"remove queue",iconName:"close",className:"btn-remove-queue",action:function(e,t){e.queue.removeQueue(t.id,!1,!0)}}],datas:null},plugin:[],uploadParamsFilter:null,uploadDataFilter:null,removeParamsFilter:null,removeDataFilter:null,uploadProgress:null,uploadComplete:null,uploadCompleteAll:null,uploadFail:null,init:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,r.default)("html").attr("lang")||"ko",a=i[n][e]||"";return a=t&&t.length?function(e,t){return e.replace(/{(\d+)}/g,function(e,n){return void 0!==t[n]?t[n]:e})}(a,t):a};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0));var i={ko:{error_add_upload:"업로드가 끝난후에 추가해주세요.",error_upload_limit:"파일은 총 {0}개까지 업로드할 수 있습니다.",error_limit_size:"업로드할 수 있는 용량이 초과되었습니다.",error_limit_size2:"파일용량을 초과한 파일은 제외됩니다.",error_file_type:"잘못된 형식의 파일입니다.",error_check_file:"허용되지 않는 파일은 제외됩니다.",error_not_upload_file:"업로드할 파일이 없습니다.",error_remove_error:"파일을 삭제하는중에 오류가 발생했습니다.",error_import:"데이터 가져오기 실패",error_now_uploading:"지금 업로드중입니다."},en:{error_add_upload:"Please add after upload.",error_upload_limit:"Files can be uploaded to a total of {0}.",error_limit_size:"The capacity that can be uploaded has been exceeded.",error_limit_size2:"Files exceeding the file capacity are excluded.",error_file_type:"Invalid file.",error_check_file:"Do not allow files are excluded.",error_not_upload_file:"There are no files to upload.",error_remove_error:"Deleting file error.",error_import:"Data import failed.",error_now_uploading:"Uploading now."}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=this,i=e,a=function(e){var t={};return(e=e||[]).forEach(function(e){if(!e.key||!e.code)return!1;t[e.key]=e.code}),t}(t);this.pressKeyCode=null,this.isPressKeyCode=!1;var o=function(e){n.pressKeyCode=e.keyCode,n.isPressKeyCode=e.keyCode===a.ctrl||e.keyCode===a.cmd,(0,r.default)(window).off("keydown."+i).on("keyup."+i,l)},l=function(e){n.pressKeyCode=null,n.isPressKeyCode=!1,(0,r.default)(window).off("keyup."+i).on("keydown."+i,o)};(0,r.default)(window).on("keydown."+i,o)};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.loading='<li class="loading ready"><div class="wrap"><figure class="col not-image"><p data-element="progress" style="width: 40%;"><span><em>40</em>%</span></p></figure><div class="col bar"><p data-element="progress" style="width: 30%;"><span><em>30</em>%</span></p></div><div class="col bd"><span class="name" data-text="filename">filename.jpg</span><hr><span class="state" data-text="state">ready</span></div><nav class="col" data-element="removeQueue"><button type="button" title="remove queue"><i class="material-icons">close</i></button></nav></div></li>',t.error='<li class="error"><div class="wrap"><figure class="col not-image"></figure><div class="col bd"><span class="filetype bracket large" data-text="filetype">image/jpg</span><span class="name" data-text="filename">filename.jpg</span><hr><span class="state" data-text="state">upload fail</span></div></div></li>',t.complete='<li class="complete"><div class="wrap"><figure class="col" data-element="previewImage" data-text="filename">filename.jpg</figure><div class="col bd"><span class="filetype bracket large" data-text="filetype">image/jpg</span><span class="name" data-text="filename">filename.jpg</span><hr><span class="state" data-text="state">uploaded</span><span class="size bracket" data-text="filesize">123.43kb</span></div><nav class="col" data-element="customButtons"></nav></div></li>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name="Queue",this.parent=t,this.options=t.options.queue,this.items={ids:[],files:[]},this.style="list",this.$queue=a.util.findDOM(t.$container,"element","queue").children("ul"),this.keyboardEvent=new a.keyboardEvent(t.options.eventPrefixName,[{key:"ctrl",code:17},{key:"cmd",code:91}])}return r(e,[{key:"init",value:function(){this.options.height&&a.util.findDOM(this.parent.$container,"comp","queue").height(this.options.height),this.changeStyle(this.options.style),this.options.datas&&this.import(this.options.datas)}},{key:"initSelectQueueEvent",value:function(e){var t=this;e.on("click",function(e){return t.selectQueue((0,i.default)(e.currentTarget).data("id"))})}},{key:"createNavigationButtons",value:function(e,t){var n=this;if(e&&e.length){var r=[];return e.forEach(function(e){if(e.name&&e.iconName&&e.action&&(!e.show||!1!==e.show(t))){var a=e.className?'class="'+e.className+'"':"",o=(0,i.default)('<button type="button" title="'+e.name+'" '+a+'><i class="material-icons">'+e.iconName+"</i></button>");o.on("click",function(r){e.action(n.parent,t),r.stopPropagation()}),r.push(o)}}),r}}},{key:"findItem",value:function(e){return this.items.ids.indexOf(Number(e))}},{key:"changeStyle",value:function(e){this.$queue.removeClass("style-"+this.style).addClass("style-"+e),this.style=e,this.parent.eventReceiver("queue.changeStyle",{style:e})}},{key:"import",value:function(e){var t=this;e&&("string"==typeof e?i.default.get(e,function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e=[]}e&&e instanceof Array?e.length&&e.forEach(function(e){t.addComplete(e)}):alert(a.language("error_import"))}):e instanceof Array&&e.forEach(function(e){t.addComplete(e)}))}},{key:"delete",value:function(e){var t=this;e&&e.length&&e.forEach(function(e){t.removeQueue(e,!1,!0)})}},{key:"selectQueue",value:function(e){var t=this.$queue.children();if(e){var n=this.selectQueueElement(e);if(this.keyboardEvent.isPressKeyCode)n.toggleClass("selected");else{var r=n.hasClass("selected"),i=t.filter(".selected").length;t.removeClass("selected"),(!r||i>1)&&n.addClass("selected")}}else t.filter(".selected").length>0?t.removeClass("selected"):t.addClass("selected");this.parent.eventReceiver("queue.selectQueue",{$selectElements:this.$queue.children(".selected"),$selectElement:e?this.selectQueueElement(e):t.eq(0)})}},{key:"selectQueueElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.$queue.children("li[data-id="+e+"]")}},{key:"add",value:function(e){e.fullSrc=this.parent.options.srcPrefixName+e.src,this.items.ids.push(Number(e.id)),this.items.files.push(e)}},{key:"remove",value:function(e){var t=this.findItem(e);this.items.ids.splice(t,1),this.items.files.splice(t,1)}},{key:"addProgress",value:function(e){var t=this,n=(0,i.default)(a.template.loading),r=a.util.findDOM(n,"element","removeQueue").children("button");this.add(e),n.attr("data-id",e.id),a.util.findDOM(n,"text","filename").text(e.name),a.util.findDOM(n,"element","progress").width("0%").find("em").text("0"),r.on("click",function(e){var n=parseInt((0,i.default)(e.currentTarget).closest("li").data("id"));t.removeQueue(n,!0,!1),t.parent.uploader.readyItems.forEach(function(e,r){if(e.id===n)return t.parent.uploader.readyItems.splice(r,1),!1})}),this.$queue.append(n),this.parent.eventReceiver("queue.addProgress",{$el:n,file:e})}},{key:"addComplete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.id,r=(0,i.default)(a.template.complete),o=a.util.findDOM(r,"element","previewImage"),l=a.util.findDOM(r,"element","customButtons"),u=a.util.findDOM(r,"text","filetype"),s=a.util.findDOM(r,"text","filename"),d=a.util.findDOM(r,"text","state"),c=a.util.findDOM(r,"text","filesize");this.add(e),r.attr("data-id",n),u.text(e.type),s.text(e.name),d.text("uploaded"),c.text(e.size?a.util.bytesToSize(e.size):"none"),l.html(""),"image"===e.type.split("/")[0]&&o.css("background-image","url("+e.fullSrc+")"),this.initSelectQueueEvent(r);var f=this.createNavigationButtons(this.options.buttons,e);f.length&&l.append(f),t&&t.length?t.after(r):this.$queue.append(r),this.parent.eventReceiver("queue.uploadComplete",{$selectElement:r,id:n,file:e})}},{key:"addError",value:function(e,t){var n=this,r=e.id,o=(0,i.default)(a.template.error),l=a.util.findDOM(o,"text","filetype"),u=a.util.findDOM(o,"text","filename"),s=a.util.findDOM(o,"text","state");this.add(e),o.attr("data-id",r),l.text(e.type),u.text(e.name),s.text(e.message),t&&t.length?t.after(o):this.$queue.append(o),setTimeout(function(){n.removeQueue(r,!1,!1)},3e3)}},{key:"removeQueue",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,o=this.parent.options;function l(e){r.selectQueueElement(e).fadeOut(400,function(){(0,i.default)(this).remove(),r.remove(e),r.parent.eventReceiver("queue.removeQueue",{})})}if(t)this.selectQueueElement(e).filter(".loading").remove(),this.parent.eventReceiver("queue.removeQueue",{});else{var u=this.items.files[this.findItem(e)];if(u<0)return console.error("Not found queue id"),!1;n&&o.removeScript&&!u.isLocalFile?(u=a.util.getFunctionReturn(o.removeParamsFilter,u),i.default.ajax({url:o.removeScript,type:"post",data:u,headers:o.removeHeaders?o.removeHeaders:o.uploadHeaders?o.uploadHeaders:null,success:function(t,n){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t={state:"error",response:t}}if(!(t=a.util.getFunctionReturn(o.removeDataFilter,t))||!t.state||"success"!==t.state)return alert(a.language("error_remove_error")),!1;l(e)}})):l(e)}}},{key:"updateProgress",value:function(e){var t=this.$queue.children("li[data-id="+e.id+"]"),n=a.util.findDOM(t,"element","progress");if(e&&e.data){var r=parseInt(e.data.loaded/e.data.total*100);n.width(r+"%").find("em").text(r),this.parent.eventReceiver("queue.updateProgress",{$selectElement:t,id:e.id,loaded:e.data.loaded,total:e.data.total})}}},{key:"uploadResult",value:function(e,t){if(!e)return!1;var n=this.selectQueueElement(t.id);switch(this.remove(t.id),e){case"success":this.addComplete(t,n);break;case"error":this.addError(t,n)}this.removeQueue(t.id,!0)}},{key:"getSize",value:function(){var e=0;return this.items.files.forEach(function(t){e+=t.size}),e}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=t,this.names=[],this.child={}}return i(e,[{key:"eventListener",value:function(e,t){var n=this;this.names.forEach(function(r){var i=n.child[r].eventListener;i&&"function"==typeof i&&i(e,t)})}},{key:"error",value:function(e){this.names.splice(this.names.indexOf(e),1),delete this.child[e]}},{key:"init",value:function(){var e=this,t=this.parent.options.plugin;t&&t.length&&t.forEach(function(t){t.name&&t.obj&&"object"===r(t.obj)&&t.obj.init&&"function"==typeof t.obj.init&&(e.names.push(t.name),e.child[t.name]=t.obj,e.child[t.name].init(e.parent))})}}]),e}();t.default=a},function(e,t){}]).default});